(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();const k=n=>{const t=l();t.push(n),localStorage.setItem("products",JSON.stringify(t))},l=()=>{const n=localStorage.getItem("products");return n?JSON.parse(n):[]},B=n=>{const e=l().filter(r=>r.nameInput!==n);localStorage.setItem("products",JSON.stringify(e))},v=document.querySelector("#name"),q=document.querySelector("#price"),L=document.querySelector("#quantity"),g=document.querySelector("#typePdt");document.querySelectorAll(".prodInput");const F=document.querySelector("#product-list"),w=document.querySelector("#stock-form"),E=(n,t,e,r,o=1)=>{const c=document.createElement("tr");c.classList.add("prod");const s=document.createElement("td");s.innerText=n,c.classList.add(`${r}`),c.appendChild(s);const i=document.createElement("td");i.innerText=t,c.appendChild(i);const y=document.createElement("td");y.innerText=e,c.appendChild(y);const f=document.createElement("td");f.innerText=r,c.appendChild(f);const h=document.createElement("td"),u=document.createElement("button");h.appendChild(u),u.classList.add("edit-item"),u.innerHTML="Edit",c.appendChild(h);const S=document.createElement("td"),p=document.createElement("button");S.appendChild(p),p.classList.add("delete-item"),p.innerHTML="Delete",c.appendChild(S),F.appendChild(c),o&&k({nameInput:n,priceInput:t,quantityInput:e,typePdtInput:r})};w.addEventListener("submit",n=>{n.preventDefault();const t=v.value,e=q.value,r=L.value,o=g.value,c=parseFloat(e).toFixed(2);t&&e&&r&&o&&(E(t,c,r,o),v.value="",q.value="",L.value="",g.value="")});const A=()=>l().forEach(t=>{E(t.nameInput,t.priceInput,t.quantityInput,t.typePdtInput,0)}),D=document.querySelector("#filter-select"),x=n=>{const t=document.querySelectorAll(".prod");switch(n){case"all":t.forEach(e=>e.style.display="");break;case"phone":t.forEach(e=>e.classList.contains("phone")?e.style.display="":e.style.display="none");break;case"console":t.forEach(e=>e.classList.contains("console")?e.style.display="":e.style.display="none");break;case"computer":t.forEach(e=>e.classList.contains("computer")?e.style.display="":e.style.display="none");break;case"tv":t.forEach(e=>e.classList.contains("tv")?e.style.display="":e.style.display="none");break}};D.addEventListener("change",n=>{const t=n.target.value;x(t)});const J=document.querySelector("#search-input"),P=n=>{document.querySelectorAll(".prod").forEach(e=>{let r=e.querySelector("td").innerText.toLowerCase();const o=n.toLowerCase();e.style.display="",r.includes(o)||(e.style.display="none")})};J.addEventListener("keyup",n=>{const t=n.target.value;P(t)});const a=document.querySelector("#edit-table"),I=document.querySelector("#edit-name"),T=document.querySelector("#edit-price"),b=document.querySelector("#edit-quantity"),C=document.querySelector("#edit-type"),M=document.querySelector("#cancel-edit-btn");let d=null,N;const O=(n,t,e,r,o)=>{const c=l(),s=c.findIndex(i=>i.nameInput===n);s!==-1&&(c[s]={nameInput:t,priceInput:e,quantityInput:r,typePdtInput:o},localStorage.setItem("products",JSON.stringify(c)))};document.addEventListener("click",n=>{const t=n.target.closest(".prod");if(n.target.classList.contains("edit-item")){d=t;const e=t.querySelector("td:nth-child(1)").innerText.trim(),r=t.querySelector("td:nth-child(2)").innerText.trim(),o=t.querySelector("td:nth-child(3)").innerText.trim(),c=t.querySelector("td:nth-child(4)").innerText.trim();N=e,I.value=e,T.value=r,b.value=o,C.value=c,a.style.display="block"}else if(n.target.classList.contains("delete-item")){const e=t.querySelector("td:nth-child(1)").textContent;B(e),t.remove()}});M.addEventListener("click",()=>{a.style.display="none"});a.addEventListener("submit",n=>{n.preventDefault();const t=I.value,e=T.value,r=b.value,o=C.value,c=parseFloat(e).toFixed(2);t&&e&&r&&o&&d&&(d.querySelector("td:nth-child(1)").textContent=t,d.querySelector("td:nth-child(2)").textContent=c,d.querySelector("td:nth-child(3)").textContent=r,d.querySelector("td:nth-child(4)").textContent=o,O(N,t,e,r,o),d=null,a.style.display="none")});document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#export").addEventListener("click",()=>{m()})});const Q=document.querySelector("#export");function m(){const n=l(),t=[["Name","Price","Quantity","Type"],...n.map(r=>[r.nameInput,r.priceInput,r.quantityInput,r.typePdtInput])].map(r=>r.join(",")).join(`
`),e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURI(t),e.target="blank",e.download="products.csv",e.click()}Q.addEventListener("click",()=>{m()});A();x();P();O();m();
